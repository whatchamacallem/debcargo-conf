This patch is based on reverting relavent parts of
https://github.com/quinn-rs/quinn/commit/92ab791486d53ad28dc956b20325cee6b872eb19

Index: quinn-udp/Cargo.toml
===================================================================
--- quinn-udp.orig/Cargo.toml
+++ quinn-udp/Cargo.toml
@@ -34,7 +34,7 @@ version = "1"
 version = "0.2.113"
 
 [dependencies.socket2]
-version = "0.5"
+version = "0.4"
 
 [dependencies.tracing]
 version = "0.1.10"
Index: quinn-udp/src/lib.rs
===================================================================
--- quinn-udp.orig/src/lib.rs
+++ quinn-udp/src/lib.rs
@@ -3,9 +3,9 @@
 #![warn(clippy::use_self)]
 
 #[cfg(unix)]
-use std::os::unix::io::AsFd;
+use std::os::unix::io::AsRawFd;
 #[cfg(windows)]
-use std::os::windows::io::AsSocket;
+use std::os::windows::io::AsRawSocket;
 #[cfg(not(windows))]
 use std::sync::atomic::AtomicBool;
 use std::{
@@ -179,7 +179,7 @@ pub struct UdpSockRef<'a>(socket2::SockR
 #[cfg(unix)]
 impl<'s, S> From<&'s S> for UdpSockRef<'s>
 where
-    S: AsFd,
+    S: AsRawFd,
 {
     fn from(socket: &'s S) -> Self {
         Self(socket.into())
@@ -189,7 +189,7 @@ where
 #[cfg(windows)]
 impl<'s, S> From<&'s S> for UdpSockRef<'s>
 where
-    S: AsSocket,
+    S: AsRawSocket,
 {
     fn from(socket: &'s S) -> Self {
         Self(socket.into())
