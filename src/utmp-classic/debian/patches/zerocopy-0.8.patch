--- a/Cargo.toml
+++ b/Cargo.toml
@@ -50,7 +50,7 @@ version = "0.3"
 version = "0.1.3"
 
 [dependencies.zerocopy]
-version = "0.7.34"
+version = "0.8"
 
 [dev-dependencies.anyhow]
 version = "1.0.26"
--- a/src/parse.rs
+++ b/src/parse.rs
@@ -6,7 +6,7 @@ use std::mem;
 use std::path::Path;
 use thiserror::Error;
 use utmp_classic_raw::{utmp, x32::utmp as utmp32, x64::utmp as utmp64};
-use zerocopy::{FromBytes, Ref};
+use zerocopy::{FromBytes, Immutable, KnownLayout, Ref};
 
 #[doc(hidden)]
 pub struct UtmpParserImpl<R, T = utmp>(R, PhantomData<T>);
@@ -87,7 +87,7 @@ impl<R: Read> Iterator for UtmpParserImp
 fn read_entry<R: Read, T: FromBytes>(
     mut reader: R,
     buffer: &mut [u8],
-) -> Result<Option<&T>, ParseError> {
+) -> Result<Option<&T>, ParseError> where T: Immutable, T: KnownLayout {
     let size = buffer.len();
     let mut buf = &mut buffer[..];
     loop {
@@ -110,7 +110,7 @@ fn read_entry<R: Read, T: FromBytes>(
         }
     }
     Ok(Some(
-        Ref::<_, T>::new(buffer).unwrap().into_ref(),
+        Ref::<_, T>::into_ref(Ref::<_, T>::from_bytes(buffer).unwrap()),
     ))
 }
 
