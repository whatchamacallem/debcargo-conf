Description: Disable the deprecated hyper-requester feature
 and avoid some big migrations
Bug: https://gitlab.com/schmiddi-on-mobile/railway-backend/-/issues/15
Forwarded: not-needed
Author: Blair Noctis <ncts@debian.org>
Last-Update: 2025-04-01
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -152,6 +152,7 @@
 [dependencies.rcore]
 version = "0.2"
 package = "railway-core"
+features = ["reqwest-requester"]
 
 [dependencies.serde]
 version = "1.0"
--- a/src/profile/sncf.rs
+++ b/src/profile/sncf.rs
@@ -124,7 +124,7 @@
 mod test {
     use crate::{
         api::journeys::JourneysOptions, client::HafasClient,
-        requester::hyper::HyperRustlsRequester, Place, Stop,
+        requester::reqwest::ReqwestRequester, Place, Stop,
     };
     use std::error::Error;
 
@@ -132,7 +132,7 @@
 
     #[tokio::test]
     async fn test_path_available() -> Result<(), Box<dyn Error>> {
-        let client = HafasClient::new(SncfProfile {}, HyperRustlsRequester::new());
+        let client = HafasClient::new(SncfProfile {}, Reqwest::new());
         let journeys = client
             .journeys(
                 Place::Stop(Stop {
--- a/src/profile/tpg.rs
+++ b/src/profile/tpg.rs
@@ -126,7 +126,7 @@
 mod test {
     use crate::{
         api::journeys::JourneysOptions, client::HafasClient,
-        requester::hyper::HyperRustlsRequester, Place, Stop,
+        requester::reqwest::ReqwestRequester, Place, Stop,
     };
     use std::error::Error;
 
@@ -134,7 +134,7 @@
 
     #[tokio::test]
     async fn test_path_available() -> Result<(), Box<dyn Error>> {
-        let client = HafasClient::new(TpgProfile {}, HyperRustlsRequester::new());
+        let client = HafasClient::new(TpgProfile {}, ReqwestRequester::new());
         let journeys = client
             .journeys(
                 Place::Stop(Stop {
