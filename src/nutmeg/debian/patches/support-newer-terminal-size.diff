Index: nutmeg/Cargo.toml
===================================================================
--- nutmeg.orig/Cargo.toml
+++ nutmeg/Cargo.toml
@@ -31,7 +31,7 @@ version = "0.2"
 version = "0.12"
 
 [dependencies.terminal_size]
-version = "0.2"
+version = ">= 0.2, < 1.0"
 
 [dependencies.yansi]
 version = "0.5"
Index: nutmeg/src/width.rs
===================================================================
--- nutmeg.orig/src/width.rs
+++ nutmeg/src/width.rs
@@ -5,7 +5,9 @@
 use terminal_size::Width;
 #[cfg(unix)]
 pub(crate) fn stdout_width() -> Option<usize> {
+  unsafe {
     terminal_size::terminal_size_using_fd(1).map(|(Width(w), _)| w as usize)
+  }
 }
 
 #[cfg(windows)]
@@ -16,7 +18,9 @@ pub(crate) fn stdout_width() -> Option<u
 
 #[cfg(unix)]
 pub(crate) fn stderr_width() -> Option<usize> {
+  unsafe {
     terminal_size::terminal_size_using_fd(2).map(|(Width(w), _)| w as usize)
+  }
 }
 
 #[cfg(windows)]
