--- a/tests/namedtempfile.rs
+++ b/tests/namedtempfile.rs
@@ -539,6 +539,7 @@
 
 /// Make sure we re-seed with system randomness if we run into a conflict.
 #[test]
+#[cfg(feature = "getrandom")]
 fn test_reseed() {
     configure_wasi_temp_dir();
 
