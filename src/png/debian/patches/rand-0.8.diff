rand 0.8 changes extracted from 
https://github.com/image-rs/image-png/commit/ed32ae2637e896720ef16acf81126f194bc93ca1

Index: png/Cargo.toml
===================================================================
--- png.orig/Cargo.toml
+++ png/Cargo.toml
@@ -53,7 +53,7 @@ default-features = false
 version = "0.3"
 
 [dev-dependencies.rand]
-version = "0.7.0"
+version = "0.8.0"
 
 [dev-dependencies.term]
 version = "0.5"
Index: png/src/encoder.rs
===================================================================
--- png.orig/src/encoder.rs
+++ png/src/encoder.rs
@@ -804,7 +804,7 @@ mod tests {
     impl<'a, R: Rng, W: Write + 'a> Write for RandomChunkWriter<'a, R, W> {
         fn write(&mut self, buf: &[u8]) -> io::Result<usize> {
             // choose a random length to write
-            let len = cmp::min(self.rng.gen_range(1, 50), buf.len());
+            let len = cmp::min(self.rng.gen_range(1..50), buf.len());
 
             self.w.write(&buf[0..len])
         }
