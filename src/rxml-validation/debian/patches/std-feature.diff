--- a/src/lib.rs
+++ b/src/lib.rs
@@ -242,6 +242,7 @@
 	}
 
 	#[test]
+	#[cfg(feature = "std")]
 	fn test_validate_cdata_is_equivalent_to_nonchar_class() {
 		let mut buf = String::with_capacity(4);
 		for cp in 0x0..=0x10ffffu32 {
