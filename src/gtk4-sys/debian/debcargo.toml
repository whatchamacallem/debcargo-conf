overlay = "."
uploaders = ["Matthias Geiger <werdahias@debian.org>"]
whitelist = ["tests/*.c"]
collapse_features = true
# this is needed for regeneration, do not delete
[source]
build_depends = ["libgtk-4-dev (>= 4.20)","libgraphene-1.0-dev","libgirepository1.0-dev","gir-rust-code-generator (>= 0.21)","xmlstarlet"]
[packages.lib]
depends = ["libgtk-4-dev (>= 4.20)"]

[packages."lib+v4_20"]
test_is_broken = true

[packages."lib+@"]
# the gir files in Debian contain references to stuff being deprecated in 4.20
# (even though the version of gtk4 is only 4.18) and this leads to
# gir-rust-code-generator generating a 4_20 feature, which then fails to build
# because it looks for gtk4 4.20.
test_is_broken = true
