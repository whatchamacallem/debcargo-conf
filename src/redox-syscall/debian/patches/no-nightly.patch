--- a/src/lib.rs
+++ b/src/lib.rs
@@ -10,2 +10,3 @@
 pub use self::flag::*;
+#[cfg(target_os = "redox")]
 pub use self::io::*;
@@ -51,2 +52,3 @@
 /// Functions for low level hardware control
+#[cfg(target_os = "redox")]
 pub mod io;
